---
import { Image } from "astro:assets"
import profileImage from "/public/profile.jpeg"
---

<Image
  src={profileImage}
  alt="Profile photo"
  class="profile-image"
  width={120}
  height={120}
  quality={100}
  format="webp"
/>

<style>
  .profile-image {
    border-radius: 50%;
    object-fit: cover;
    object-position: center;
    transform: scale(1);
    image-rendering: auto;
    image-rendering: -webkit-optimize-contrast;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    border: 3px solid #e5e7eb;
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -1px rgba(0, 0, 0, 0.06);
    transition: transform 0.2s ease-in-out;
    position: relative;
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s infinite;
  }

  .profile-image.loaded {
    background: none;
    animation: none;
  }

  @keyframes skeleton-loading {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .profile-image:hover {
    transform: scale(1.25);
  }

  /* Responsive design */
  @media (max-width: 768px) {
    .profile-image {
      width: 150px;
      height: 150px;
    }

    .profile-image:hover {
      transform: none;
    }
  }

  @media (max-width: 480px) {
    .profile-image {
      width: 180px;
      height: 180px;
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const profileImage = document.querySelector(".profile-image")
    if (profileImage) {
      profileImage.addEventListener("load", function (this: HTMLImageElement) {
        this.classList.add("loaded")
      })
    }
  })
</script>
