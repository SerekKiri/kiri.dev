---
import { Image } from "astro:assets"
import flareFact1 from "../images/FlareFact-1.jpeg"
import flareFact2 from "../images/FlareFact-2.jpeg"
import blazity1 from "../images/Blazity-1.jpg"
import blazity2 from "../images/Blazity-2.jpeg"
import blazity3 from "../images/Blazity-3.jpg"
import spaceTeam1 from "../images/SpaceTeam-1.jpeg"
import spaceTeam2 from "../images/SpaceTeam-2.jpeg"
import spaceTeam3 from "../images/SpaceTeam-3.jpeg"
import unikie1 from "../images/Unikie-1.jpg"
import digitalColliers1 from "../images/digital-colliers-1.jpg"
import digitalColliers2 from "../images/digital-colliers-2.jpg"
import asasak1 from "../images/Asasak-1.jpg"
---

<article class="experience">
  <h2>Experience</h2>

  <section>
    <h3><b>FlareFact AI</b>, Founding Engineer</h3>
    <span>React, Next, Rust, Astro</span>
    <p class="timeline">
      <time datetime="2025-02">February 2025</time> - Present
    </p>
    <p>
      The Handyman of the team, from backend, through frontend, mobile app all
      the way to the devopsing. Checkout our product on <a
        href="https://flarefact.ai/"
        target="_blank"><b>flarefact.ai</b></a
      >.
    </p>
    <div class="company-gallery">
      <Image
        src={flareFact1}
        alt="Quick call with the team in Dubai"
        class="company-image"
        data-modal-src={flareFact1.src}
        data-modal-alt="Quick call with the team in Dubai"
      />
      <Image
        src={flareFact2}
        alt="FlareFact Trip to Waterloo"
        class="company-image"
        data-modal-src={flareFact2.src}
        data-modal-alt="FlareFact Trip to Waterloo"
      />
    </div>
  </section>

  <section>
    <h3><b>Blazity</b>, Software Engineer</h3>
    <span>React, Next</span>
    <p class="timeline">
      <time datetime="2022-12">December 2022</time> - <time datetime="2025-01"
        >January 2025</time
      >
    </p>
    <p>
      At <a href="https://blazity.com/" target="_blank"><b>Blazity</b></a> we are
      a group of Next.js experts helping companies to migrate, refactor and improve
      their product for better scalability, user retention, performance and increased
      earnings. Personally I have worked on a shopify scale product migration to
      newest stack (React 18 and Next 13) alongside architecture refactor while in
      the meantime I happend to join for a few weeks a Boston based product team
      which was also migrating to Next 13 including moving from pages to app directory
      which we successfully finished. Half of my time at Blazity was spent with a
      startup on some cool improvements to their platform with some trips to New
      York office to work hand in hand with the team. In free time expanding open
      source portfolio of the company and helping with Developer relations.
    </p>
    <div class="company-gallery">
      <Image
        src={blazity1}
        alt="Blazity team gathering"
        class="company-image"
        data-modal-src={blazity1.src}
        data-modal-alt="Blazity team gathering"
      />
      <Image
        src={blazity2}
        alt="Arthur AI team breakfast in New York Office"
        class="company-image"
        data-modal-src={blazity2.src}
        data-modal-alt="Arthur AI team breakfast in New York Office"
      />
      <Image
        src={blazity3}
        alt="Arthur AI team selfie during a city game in New York"
        class="company-image"
        data-modal-src={blazity3.src}
        data-modal-alt="Arthur AI team selfie during a city game in New York"
      />
    </div>
  </section>

  <section>
    <h3><b>SpaceTeam AGH</b>, Software & Mechanics</h3>
    <span>Astro, Rust, Node</span>
    <p class="timeline">
      <time datetime="2022-10">October 2022</time> - <time datetime="2023-03"
        >March 2023</time
      >
    </p>
    <p>
      I was responsible for Software when it comes to computers for our device,
      api which they were connecting to and an app to controll them. From
      mechanical point of view I was helping with everything I could. Tasks like
      testing newly designed gears or screwing screws into angle coupling on our
      unstable ladder to keep the structure of the TOLRECON machine aligned were
      on daily basis.
    </p>
    <div class="company-gallery">
      <Image
        src={spaceTeam1}
        alt="SpaceTeam Christmas Card with our machine in the lab"
        class="company-image"
        data-modal-src={spaceTeam1.src}
        data-modal-alt="SpaceTeam Christmas Card with our machine in the lab"
      />
      <Image
        src={spaceTeam2}
        alt="Rover!"
        class="company-image"
        data-modal-src={spaceTeam2.src}
        data-modal-alt="Rover!"
      />
      <Image
        src={spaceTeam3}
        alt="SpaceTeam workshop environment"
        class="company-image"
        data-modal-src={spaceTeam3.src}
        data-modal-alt="SpaceTeam workshop environment"
      />
    </div>
  </section>

  <section>
    <h3><b>Unikie</b>, Software Engineer</h3>
    <span>React, Next</span>
    <p class="timeline">
      <time datetime="2022-9">September 2022</time> - <time datetime="2022-12"
        >December 2022</time
      >
    </p>
    <p>
      As a developer I was a part of a team outsourced to the <a
        href="https://www.hp.com"
        target="_blank">HP</a
      > R&D department to work on their new product, building it basically from scratch.
    </p>
    <div class="company-gallery">
      <Image
        src={unikie1}
        alt="Unikie team during a break"
        class="company-image"
        data-modal-src={unikie1.src}
        data-modal-alt="Unikie team during a break"
      />
    </div>
  </section>

  <section>
    <h3><b>Digital Colliers</b>, Software Engineer</h3>
    <span>Vue, Nuxt, Nest</span>
    <p class="timeline">
      <time datetime="2021-6">June 2021</time> - <time datetime="2022-8"
        >August 2022</time
      >
    </p>
    <p>
      As a developer I was part of the biggest team in the company which was
      focused on building a SaaS solution for the online lottery industry. I was
      also responsbile for delivering multiple performance fixes and overall
      improvements in developer experience from implementing Turborepo in it's
      early days to replacing microservices with proper solution for that
      project. Multiple things were later on implemented in different projects
      across the company based on my experiences.
    </p>
    <div class="company-gallery">
      <Image
        src={digitalColliers1}
        alt="Digital Colliers team in Zakopane"
        class="company-image"
        data-modal-src={digitalColliers1.src}
        data-modal-alt="Digital Colliers team in Zakopane"
      />
      <Image
        src={digitalColliers2}
        alt="Digital Colliers team in Hamburg"
        class="company-image"
        data-modal-src={digitalColliers2.src}
        data-modal-alt="Digital Colliers team in Hamburg"
      />
    </div>
  </section>

  <section>
    <h3><b>Asasak</b>, Software Engineer</h3>
    <span>Vue, Nuxt, Node</span>
    <p class="timeline">
      <time datetime="2019-10">October 2019</time> - <time datetime="2020-12"
        >December 2020</time
      >
    </p>
    <p>
      I joined <b>Asasak</b> as a developer to build the startup from a groundup.
      As a single developer I was responsible for delivering web and desktop apps
      alongside backend, while also managing all of the infrastructure.
    </p>
    <div class="company-gallery">
      <Image
        src={asasak1}
        alt="Cabines delivered to a customer thanks to our software"
        class="company-image"
        data-modal-src={asasak1.src}
        data-modal-alt="Cabines delivered to a customer thanks to our software"
      />
    </div>
  </section>

  <section>
    <h3><b>Queris</b>, Software Engineer Internship</h3>
    <span>Angular</span>
    <p class="timeline">
      <time datetime="2019-7">July 2019</time>
    </p>
    <p>
      I was lucky enough to get an opportunity of an internship. I was
      responsible for building first components in Angular of their software
      previously written in C#.
    </p>
  </section>
</article>

<!-- Image Modal -->
<div id="imageModal" class="modal">
  <div class="modal-content">
    <span class="modal-close">&times;</span>
    <img id="modalImage" src="" alt="" />
    <div id="modalCaption"></div>
  </div>
</div>

<style>
  article {
    margin: 0 0;
    width: 100%;
  }

  section {
    margin-bottom: 2rem;
    width: 100%;
  }

  h2 {
    margin-top: 0;
  }

  h3 {
    margin: 0;
  }

  span {
    line-height: 1.6;
  }

  .timeline {
    font-size: 0.8em;
    line-height: 1.6;
  }

  .company-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin: 1.5rem 0 2rem 0;
    padding: 1rem;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-radius: 12px;
    border: 1px solid #dee2e6;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    width: 100%;
    box-sizing: border-box;
  }

  .company-image {
    width: 100%;
    height: 200px;
    object-fit: cover;
    border-radius: 8px;
    transition: all 0.3s ease;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    position: relative;
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s infinite;
  }

  .company-image.loaded {
    background: none;
    animation: none;
  }

  @keyframes skeleton-loading {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .company-image:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
  }

  /* Special layout for different numbers of images */
  .company-gallery:has(.company-image:nth-child(1):last-child) {
    grid-template-columns: 1fr;
    max-width: 500px;
    margin: 1.5rem auto 2rem auto;
  }

  .company-gallery:has(.company-image:nth-child(2):last-child) {
    grid-template-columns: repeat(2, 1fr);
    max-width: 100%;
  }

  .company-gallery:has(.company-image:nth-child(3):last-child) {
    grid-template-columns: repeat(3, 1fr);
    max-width: 100%;
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .company-gallery {
      grid-template-columns: 1fr;
      padding: 0.75rem;
      margin: 1.5rem 0 2rem 0;
      width: 100%;
    }

    .company-gallery:has(.company-image:nth-child(1):last-child) {
      max-width: 100%;
      margin: 1.5rem 0 2rem 0;
    }

    .company-image {
      height: 150px;
    }
  }

  @media (max-width: 480px) {
    .company-gallery {
      margin: 1rem 0 1.5rem 0;
      padding: 0.5rem;
      width: 100%;
    }

    .company-gallery:has(.company-image:nth-child(1):last-child) {
      max-width: 100%;
      margin: 1rem 0 1.5rem 0;
    }

    .company-image {
      height: 120px;
    }
  }

  /* Modal Styles */
  .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(5px);
    animation: fadeIn 0.3s ease;
  }

  .modal.show {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .modal-content {
    position: relative;
    max-width: 90vw;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    animation: zoomIn 0.3s ease;
  }

  .modal-content img {
    max-width: 100%;
    max-height: 80vh;
    object-fit: contain;
    border-radius: 8px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  }

  .modal-close {
    position: absolute;
    top: -40px;
    right: 0;
    color: white;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    z-index: 1001;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  }

  .modal-close:hover {
    background: rgba(0, 0, 0, 0.8);
    transform: scale(1.1);
  }

  #modalCaption {
    color: white;
    text-align: center;
    padding: 10px 0;
    font-size: 16px;
    background: rgba(0, 0, 0, 0.7);
    border-radius: 4px;
    margin-top: 10px;
    padding: 10px 20px;
    max-width: 100%;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes zoomIn {
    from {
      opacity: 0;
      transform: scale(0.8);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* Mobile modal adjustments */
  @media (max-width: 768px) {
    .modal-content {
      max-width: 95vw;
      max-height: 95vh;
    }

    .modal-content img {
      max-height: 70vh;
    }

    .modal-close {
      top: -35px;
      font-size: 24px;
      width: 35px;
      height: 35px;
    }

    #modalCaption {
      font-size: 14px;
      padding: 8px 15px;
    }
  }

  @media (max-width: 480px) {
    .modal-content {
      max-width: 98vw;
      max-height: 98vh;
    }

    .modal-content img {
      max-height: 60vh;
    }

    .modal-close {
      top: -30px;
      font-size: 20px;
      width: 30px;
      height: 30px;
    }

    #modalCaption {
      font-size: 12px;
      padding: 6px 12px;
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const modal = document.getElementById("imageModal") as HTMLElement | null
    const modalImg = document.getElementById(
      "modalImage"
    ) as HTMLImageElement | null
    const modalCaption = document.getElementById(
      "modalCaption"
    ) as HTMLElement | null
    const closeBtn = document.querySelector(
      ".modal-close"
    ) as HTMLElement | null
    if (!modal || !modalImg || !modalCaption || !closeBtn) {
      console.warn("Modal elements not found")
      return
    }

    // Open modal when image is clicked
    const companyImages = document.querySelectorAll(".company-image")
    companyImages.forEach((img) => {
      img.addEventListener("click", function (this: HTMLElement) {
        const src = this.getAttribute("data-modal-src")
        const alt = this.getAttribute("data-modal-alt")

        if (src && alt) {
          modal.classList.add("show")
          modalImg.src = src
          modalImg.alt = alt
          modalCaption.textContent = alt

          // Prevent body scroll when modal is open
          document.body.style.overflow = "hidden"
        }
      })
    })

    // Close modal functions
    function closeModal() {
      if (modal) {
        modal.classList.remove("show")
        document.body.style.overflow = "auto"
      }
    }

    // Close modal when close button is clicked
    closeBtn.addEventListener("click", closeModal)

    // Close modal when clicking outside the image
    modal.addEventListener("click", function (e) {
      if (e.target === modal) {
        closeModal()
      }
    })

    // Close modal with Escape key
    document.addEventListener("keydown", function (e) {
      if (e.key === "Escape" && modal && modal.classList.contains("show")) {
        closeModal()
      }
    })

    // Handle image load errors
    modalImg.addEventListener("error", function (this: HTMLImageElement) {
      console.warn("Failed to load image:", this.src)
      closeModal()
    })

    // Handle skeleton loading for company images
    companyImages.forEach((img) => {
      img.addEventListener("load", function (this: HTMLImageElement) {
        this.classList.add("loaded")
      })
    })
  })
</script>
